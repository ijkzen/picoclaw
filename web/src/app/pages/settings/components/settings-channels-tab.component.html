<div class="flex h-full min-h-0 flex-1 flex-col overflow-y-auto p-4">
  <mat-card>
    <mat-card-header>
      <mat-icon>chat</mat-icon>
      <mat-card-title>Chat Channel Configuration</mat-card-title>
      <mat-card-subtitle>Configure integrations with chat platforms</mat-card-subtitle>
    </mat-card-header>
  </mat-card>

  @for (channel of channelConfigs(); track channel.key) {
    <mat-card class="mt-4">
      <mat-card-header>
        <mat-card-title>{{ channel.name }}</mat-card-title>
        <mat-card-subtitle>{{ channel.description }}</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <mat-slide-toggle [(ngModel)]="channel.config.enabled" color="primary">
          {{ channel.config.enabled ? 'Enabled' : 'Disabled' }}
        </mat-slide-toggle>

        @if (channel.config.enabled) {
          <mat-divider class="my-4"></mat-divider>

          @for (field of channel.fields; track field.key) {
            <mat-form-field appearance="outline" class="mb-2 w-full">
              <mat-label>{{ field.label }}</mat-label>
              @if (field.type === 'password') {
                <input matInput [(ngModel)]="channel.config[field.key]" type="password">
              } @else if (field.type === 'number') {
                <input matInput [(ngModel)]="channel.config[field.key]" type="number">
              } @else {
                <input matInput [(ngModel)]="channel.config[field.key]">
              }
              @if (field.hint) {
                <mat-hint>{{ field.hint }}</mat-hint>
              }
            </mat-form-field>
          }
        }
      </mat-card-content>
    </mat-card>
  }
</div>
